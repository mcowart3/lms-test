{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\micai\\\\Documents\\\\GitHub\\\\jif0359\\\\frontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\micai\\\\Documents\\\\GitHub\\\\jif0359\\\\frontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\micai\\\\Documents\\\\GitHub\\\\jif0359\\\\frontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\micai\\\\Documents\\\\GitHub\\\\jif0359\\\\frontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import LitDocument from\"../../model/LitDocument\";var LocalDocumentService=/*#__PURE__*/function(){function LocalDocumentService(){_classCallCheck(this,LocalDocumentService);}_createClass(LocalDocumentService,[{key:\"getDocuments\",value:function(){var _getDocuments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var documents;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3000/documents\",{mode:'no-cors'});case 2:_context.next=4;return _context.sent.json();case 4:documents=_context.sent;console.log(documents);documents=documents.map(function(document){return new LitDocument(document._id,document.author,document.text,document.title,undefined,undefined,document.tags);});return _context.abrupt(\"return\",new Promise(function(resolve,reject){return resolve(documents);}));case 8:case\"end\":return _context.stop();}}},_callee);}));function getDocuments(){return _getDocuments.apply(this,arguments);}return getDocuments;}()},{key:\"sortDocuments\",value:function(){var _sortDocuments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(sortBy){var documents;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:3000/sort/\"+sortBy.endpoint,{mode:'no-cors'});case 2:_context2.next=4;return _context2.sent.json();case 4:documents=_context2.sent;console.log(documents);documents=documents.map(function(document){return new LitDocument(document._id,document.author,document.text,document.title,undefined,undefined,document.tags);});return _context2.abrupt(\"return\",new Promise(function(resolve,reject){return resolve(documents);}));case 8:case\"end\":return _context2.stop();}}},_callee2);}));function sortDocuments(_x){return _sortDocuments.apply(this,arguments);}return sortDocuments;}()},{key:\"searchDocuments\",value:function(){var _searchDocuments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(query){var documents;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:3000/search/\"+query,{mode:'no-cors',headers:{'Content-Type':'application/json','Accept':'application/json'}});case 2:_context3.next=4;return _context3.sent.json();case 4:documents=_context3.sent;console.log(documents);documents=documents.map(function(document){return new LitDocument(document._id,document.author,document.text,document.title,undefined,undefined,document.tags);});return _context3.abrupt(\"return\",new Promise(function(resolve,reject){return resolve(documents);}));case 8:case\"end\":return _context3.stop();}}},_callee3);}));function searchDocuments(_x2){return _searchDocuments.apply(this,arguments);}return searchDocuments;}()}]);return LocalDocumentService;}();export{LocalDocumentService as default};","map":{"version":3,"sources":["C:\\Users\\micai\\Documents\\GitHub\\jif0359\\frontEnd\\src\\services\\documentService\\LocalDocumentService.ts"],"names":["LitDocument","LocalDocumentService","fetch","mode","json","documents","console","log","map","document","_id","author","text","title","undefined","tags","Promise","resolve","reject","sortBy","endpoint","query","headers"],"mappings":"msBAEA,MAAOA,CAAAA,WAAP,KAAwB,yBAAxB,C,GAGqBC,CAAAA,oB,8ZAEYC,CAAAA,KAAK,CAChC,iCADgC,CACG,CAAEC,IAAI,CAAE,SAAR,CADH,C,6CACyBC,I,UADvDC,S,eAEJC,OAAO,CAACC,GAAR,CAAYF,SAAZ,EACAA,SAAS,CAAGA,SAAS,CAACG,GAAV,CAAc,SAAAC,QAAQ,CAAI,CACpC,MAAO,IAAIT,CAAAA,WAAJ,CACLS,QAAQ,CAACC,GADJ,CAELD,QAAQ,CAACE,MAFJ,CAGLF,QAAQ,CAACG,IAHJ,CAILH,QAAQ,CAACI,KAJJ,CAKLC,SALK,CAMLA,SANK,CAOLL,QAAQ,CAACM,IAPJ,CAAP,CASD,CAVW,CAAZ,C,gCAWO,GAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,QAAqBD,CAAAA,OAAO,CAACZ,SAAD,CAA5B,EAAZ,C,2RAGkBc,M,2JACIjB,CAAAA,KAAK,CAChC,8BAAgCiB,MAAM,CAACC,QADP,CACiB,CAAEjB,IAAI,CAAE,SAAR,CADjB,C,+CACuCC,I,UADrEC,S,gBAEJC,OAAO,CAACC,GAAR,CAAYF,SAAZ,EACAA,SAAS,CAAGA,SAAS,CAACG,GAAV,CAAc,SAAAC,QAAQ,CAAI,CACpC,MAAO,IAAIT,CAAAA,WAAJ,CACLS,QAAQ,CAACC,GADJ,CAELD,QAAQ,CAACE,MAFJ,CAGLF,QAAQ,CAACG,IAHJ,CAILH,QAAQ,CAACI,KAJJ,CAKLC,SALK,CAMLA,SANK,CAOLL,QAAQ,CAACM,IAPJ,CAAP,CASD,CAVW,CAAZ,C,iCAWO,GAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,QAAqBD,CAAAA,OAAO,CAACZ,SAAD,CAA5B,EAAZ,C,sSAGoBgB,K,2JACEnB,CAAAA,KAAK,CAChC,gCAAkCmB,KADF,CACS,CACzClB,IAAI,CAAE,SADmC,CACxBmB,OAAO,CAAE,CACxB,eAAgB,kBADQ,CAExB,SAAU,kBAFc,CADe,CADT,C,+CAM9BlB,I,UANAC,S,gBAOJC,OAAO,CAACC,GAAR,CAAYF,SAAZ,EACAA,SAAS,CAAGA,SAAS,CAACG,GAAV,CAAc,SAAAC,QAAQ,CAAI,CACpC,MAAO,IAAIT,CAAAA,WAAJ,CACLS,QAAQ,CAACC,GADJ,CAELD,QAAQ,CAACE,MAFJ,CAGLF,QAAQ,CAACG,IAHJ,CAILH,QAAQ,CAACI,KAJJ,CAKLC,SALK,CAMLA,SANK,CAOLL,QAAQ,CAACM,IAPJ,CAAP,CASD,CAVW,CAAZ,C,iCAWO,GAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,QAAqBD,CAAAA,OAAO,CAACZ,SAAD,CAA5B,EAAZ,C,+MAzDUJ,oB","sourcesContent":["import IDocumentService from \"./IDocumentService\";\r\nimport Metadata from \"../../model/Metadata\";\r\nimport LitDocument from \"../../model/LitDocument\";\r\nimport SortBy from \"../../model/SortBy\";\r\n\r\nexport default class LocalDocumentService implements IDocumentService {\r\n  public async getDocuments(): Promise<LitDocument[]> {\r\n    let documents = await (await fetch(\r\n      \"http://localhost:3000/documents\", { mode: 'no-cors' })).json();\r\n    console.log(documents);\r\n    documents = documents.map(document => {\r\n      return new LitDocument(\r\n        document._id,\r\n        document.author,\r\n        document.text,\r\n        document.title,\r\n        undefined,\r\n        undefined,\r\n        document.tags\r\n      );\r\n    });\r\n    return new Promise((resolve, reject) => resolve(documents));\r\n  }\r\n\r\n  public async sortDocuments(sortBy: SortBy): Promise<LitDocument[]> {\r\n    let documents = await (await fetch(\r\n      \"http://localhost:3000/sort/\" + sortBy.endpoint, { mode: 'no-cors' })).json();\r\n    console.log(documents);\r\n    documents = documents.map(document => {\r\n      return new LitDocument(\r\n        document._id,\r\n        document.author,\r\n        document.text,\r\n        document.title,\r\n        undefined,\r\n        undefined,\r\n        document.tags\r\n      );\r\n    });\r\n    return new Promise((resolve, reject) => resolve(documents));\r\n  }\r\n\r\n  public async searchDocuments(query: string): Promise<LitDocument[]> {\r\n    let documents = await (await fetch(\r\n      \"http://localhost:3000/search/\" + query, {\r\n      mode: 'no-cors', headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    })).json();\r\n    console.log(documents);\r\n    documents = documents.map(document => {\r\n      return new LitDocument(\r\n        document._id,\r\n        document.author,\r\n        document.text,\r\n        document.title,\r\n        undefined,\r\n        undefined,\r\n        document.tags\r\n      );\r\n    });\r\n    return new Promise((resolve, reject) => resolve(documents));\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}